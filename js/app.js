const defaultConfig = {
    page_title: "–ü–û–ó–î–†–ê–í–õ–Ø–ï–¢ –ê–î–ò –° –î–ù–ï–ú –†–û–ñ–î–ï–ù–ò–Ø",
    page_subtitle: "–û—Ç–∫—Ä–æ–π –∫–∞–∂–¥—É—é –∫–æ—Ä–æ–±–∫—É –∏ –ø—Ä–æ—á—É–≤—Å—Ç–≤—É–π –¥—É—Ö ¬´–û–†–î–´¬ª!\n–ú—ã –ª—é–±–∏–º —Ç–µ–±—è, –ê–¥–∏!",
    page_subtitle_signature: "–¢–≤–æ–∏ –¥—Ä—É–∑—å—è",
    box1_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –°—ç–º–∞",
    box1_content: "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è –ê–¥–∏!!! –î–∞—Ä—é —Ç–µ–±–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ –∫–Ω–∏–∂–µ—á–∫—É üíõ",
    box1_image: "https://i.ibb.co/S4GRHKnj/IMG-6489.jpg",
    box2_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –ù—É–∞–¥—ã",
    box2_content: "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è!\n\n–ñ–µ–ª–∞—é –≤—Å–µ–≥–æ —Å–∞–º–æ–≥–æ –ª—É—á—à–µ–≥–æ, —á—Ç–æ–±—ã —Ç–µ–±–µ –≤—Å–µ–≥–¥–∞ —É–ª—ã–±–∞–ª–∞—Å—å —É–¥–∞—á–∞, –∏ —á—Ç–æ–±—ã —Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø—ã—Ç—ã–≤–∞–ª–∞ –Ω–∏—á–µ–≥–æ –ø–ª–æ—Ö–æ–≥–æ, —á—Ç–æ –º–æ–∂–µ—Ç –∑–∞—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–±—è –æ–ø—É—Å—Ç–∏—Ç—å —Ä—É–∫–∏, –∏–ª–∏ —É–±—Ä–∞—Ç—å —É–ª—ã–±–∫—É —Å —Ç–≤–æ–µ–≥–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ –ª–∏—Ü–∞üçÄ\n\n–•–æ—Ä–æ—à–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è, –∏ –ø–æ–±–æ–ª—å—à–µ —É–ª—ã–±–æ–∫ —Ç–µ–±–µ –≤ —ç—Ç–æ—Ç –¥–µ–Ω—åüíú",
    box2_image: "https://i.ibb.co/r2VYdvT1/IMG-6493.jpg",
    box3_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –î–∂–µ—Ä–≤–∏—Å–∞",
    box3_content: "–ë—É–∫–µ—Ç –∏–∑ —Å—É—Ö–æ—Ü–≤–µ—Ç–æ–≤. –í –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ—Ç —É—Ö–æ–¥—è—â–µ–π –æ—Å–µ–Ω–∏",
    box3_image: "https://i.ibb.co/7xgHpgQR/IMG-6495.png",
    box4_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –õ–∏–Ω—ã",
    box4_content: "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è —Ç–µ–±—è, –ê–¥–µ–ª–∏–Ω!\n–Ø –æ—á–µ–Ω—å —Ä–∞–¥–∞, —á—Ç–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∞—Å—å —Å —Ç–æ–±–æ–π, —á—Ç–æ –º–Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–æ–±—â–∞—Ç—å—Å—è —Å —Ç–æ–±–æ–π. –¢—ã –±–µ–∑—É–º–Ω–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π —á–µ–ª–æ–≤–µ–∫. –û—á–µ–Ω—å –ª—é–±–ª—é –æ–±—Å—É–∂–¥–∞—Ç—å —Å —Ç–æ–±–æ–π —á—Ç–æ-—Ç–æ, —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å –æ —á—ë–º-—Ç–æ –∏ –ø—Ä–æ—Å—Ç–æ —Ç–µ–±—è!\n–•–æ—á—É —Å–∫–∞–∑–∞—Ç—å —Ç–µ–±–µ –æ–≥—Ä–æ–º–Ω–æ–µ —Å–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—à—å –º–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å–µ –º–æ–∏ –∏–¥–µ–∏, –≤—Å–µ–≥–¥–∞ —Ä—É–∫–∞–º–∏ –∏ –Ω–æ–≥–∞–º–∏ ¬´–∑–∞¬ª –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–æ–µ–∫—Ç –∏ –ª—é–±–æ–π –¥–≤–∏–∂. –•–æ—á–µ—Ç—Å—è —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ç—ã –æ–≥—Ä–æ–º–Ω–∞—è –º–æ–ª–æ–¥–µ—Ü –∏ –º—ã –≤—Å–µ —Ü–µ–Ω–∏–º –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤—Å–µ —Ç–≤–æ–∏ –∑–∞—Å–ª—É–≥–∏ –∏ —Ç–æ, —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∞—Å.\n–†–∞–∑–≤–∏–≤–∞–π—Å—è, —É–ª—ã–±–∞–π—Å—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ü–≤–µ—Ç–∏, —á—Ç–æ–±—ã —Ä–∞–¥–æ–≤–∞—Ç—å –Ω–∞—Å –≤—Å–µ—Ö. –û—á–µ–Ω—å –ª—é–±–ª—é —Ç–µ–±—è, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è!",
    box4_image: "https://i.ibb.co/Y4g5JFvJ/IMG-6497.jpg",
    box5_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –ö–∞—Ç–∞–ª–∏–Ω—ã",
    box5_content: "–î–∞! –ö–µ—Ä–æ—Å–∏–Ω–æ–≤–∞—è –õ–∞–º–ø–∞! –û—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç, –º–µ–∂–¥—É –ø—Ä–æ—á–∏–º! –ê–¥–∏, —Ç—ã —è—Ä–∫–æ–π –∏—Å–∫–æ—Ä–∫–æ–π –≤–æ—Ä–≤–∞–ª–∞—Å—å –≤ –Ω–∞—à—É –∂–∏–∑–Ω—å, –∏ —è —Ä–∞–¥–∞, —á—Ç–æ –º—ã —Å —Ç–æ–±–æ–π –Ω–∞ –æ–¥–Ω–æ–º —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–µ. –¢—ã –∏–¥–µ–π–Ω–∞—è, –∂–∏–≤–∞—è, –Ω–∞—Å—Ç–æ—è—â–∞—è, –∏ –≤–µ—Ä–Ω–∞—è —Ö–æ—Ä–æ—à–∞—è –ø–æ–¥—Ä—É–≥–∞. –ü—É—Å—Ç—å –≤ –∂–∏–∑–Ω–∏ —É —Ç–µ–±—è –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –≤—Å–µ —Å–∞–º–æ–µ —Å–≤–µ—Ç–ª–æ–µ. –ê –µ—Å–ª–∏ —Ç–µ–º–Ω–æ, –≤–æ—Å–ø–æ–ª—å–∑—É–π—Å—è –ª–∞–º–ø–æ–π!",
    box5_image: "https://i.ibb.co/0RPhjC9Z/IMG-6498.jpg",
    box6_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –°–µ—Å–∏–ª–∏–æ",
    box6_content: "–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, –º–∞–ª–µ–Ω—å–∫–∞—è –∫—É–∫—É—Ä—É–∑–Ω–∞—è —Ö–ª–æ–ø—É—à–∫–∞! –í —ç—Ç–æ—Ç –¥–µ–Ω—å —è —Ö–æ—á—É –ø–æ–∂–µ–ª–∞—Ç—å —Ç–µ–±–µ –≤—Å–µ–≥–æ —Å–∞–º–æ–≥–æ –Ω–∞–∏–ª—É—á—à–µ–≥–æ! –ß—Ç–æ–±—ã –Ω–µ–±–æ –Ω–∞–¥ —Ç–≤–æ–µ–π –≥–æ–ª–æ–≤–æ–π –≤—Å–µ–≥–¥–∞ –±—ã–ª–æ —è—Å–Ω—ã–º. –ß—Ç–æ–±—ã —Å–æ–ª–Ω—Ü–µ –≥—Ä–µ–ª–æ —Å–≤–æ–∏–º–∏ —Ç–µ–ø–ª—ã–º–∏ –ª—É—á–∞–º–∏! –ß—Ç–æ–±—ã –∫–∞–∂–¥—ã–π —Ç–≤–æ–π –¥–µ–Ω—å –±—ã–ª –Ω–∞–ø–æ–ª–Ω–µ–Ω —Ä–∞–¥–æ—Å—Ç–Ω—ã–º–∏ —ç–º–æ—Ü–∏—è–º–∏!\n\n–Ø —Ö–æ—á—É, —á—Ç–æ–±—ã —Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–µ—à–∞–ª–∞ –Ω–æ—Å –∏ —à–ª–∞ –≤–ø–µ—Ä–µ–¥, –∫ —Å–≤–æ–∏–º —Ü–µ–ª—è–º! –ß—Ç–æ–±—ã –≤—Å–µ —Å—Ç–µ–Ω—ã –Ω–∞ —Ç–≤–æ–µ–º –ø—É—Ç–∏ —Ä—É—à–∏–ª–∏—Å—å –æ—Ç —Ç–≤–æ–µ–≥–æ —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –≤–∑–≥–ª—è–¥–∞! –ß—Ç–æ–±—ã —Å–ª–µ–¥—É—é—â–∏–π —Ç–≤–æ–π –≥–æ–¥ –±—ã–ª –ø–æ–ª–æ–Ω —Ä–∞–¥–æ—Å—Ç–∏, –Ω–æ–≤—ã—Ö –æ—Ç–∫—Ä—ã—Ç–∏–π –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –º–µ—á—Ç! –ß—Ç–æ–±—ã —Ç–≤–æ–µ –æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ, –∫—Ä–∞—Å–æ—Ç–∞ –∏ —Ö–∞—Ä–∏–∑–º–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É–≥–∞—Å–∞–ª–∏!\n\n–ò—Å–∫—Ä–µ–Ω–Ω–µ, –æ—Ç –≤—Å–µ–≥–æ —Å–µ—Ä–¥—Ü–∞, –æ—á–∞—Ä–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –º–∞–∫–∞—Ä–æ–Ω–Ω–∏–∫ ‚ù§Ô∏è",
    box6_image: "https://i.ibb.co/V0N34YqT/IMG-6499.jpg",
    box7_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –†–µ—Ç–µ–∏",
    box7_content: "Daor! –Ø —Ö–æ—á—É –æ—Ç –≤—Å–µ–π –¥—É—à–∏ –ø–æ–∑–¥—Ä–∞–≤–∏—Ç—å —Ç–µ–±—è —Å —Ç–≤–æ–∏–º –¥–Ω—ë–º:) \n–°–ø–∞—Å–∏–±–æ —á—Ç–æ —Ç—ã —Ç–∞–∫–∞—è —Ö–æ—Ä–æ—à–∞—è –∏ –¥–æ–±—Ä–∞—è, –æ—á–µ–Ω—å –≤–µ—Å—ë–ª–∞—è –∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –ø–æ–¥—Ä—É–≥–∞! –° —Ç–æ–±–æ–π –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏ –ø—Ä–∏—è—Ç–Ω–æ –±–æ–ª—Ç–∞—Ç—å.\n–í —ç—Ç–æ–º –≥–æ–¥—É —è —Ö–æ—á—É –ø–æ–∂–µ–ª–∞—Ç—å —Ç–µ–±–µ –≤—Å–µ–≥–æ —Å–∞–º–æ–≥–æ —Ö–æ—Ä–æ—à–µ–≥–æ. –ß—Ç–æ–±—ã –±—ã–ª–æ –±–æ–ª—å—à–µ –±–∞–ª–ª–æ–≤, —á—Ç–æ–±—ã —É—á–µ–±–∞ —à–ª–∞ —Ö–æ—Ä–æ—à–æ –∏ –ª—ë–≥–∫–æ. –ê –µ—â—ë –ø–æ–±–æ–ª—å—à–µ —Ä–∞–¥–æ—Å—Ç–µ–π –≤ –∂–∏–∑–Ω–∏! –¢—ã –ª—É—á–µ–∑–∞—Ä–Ω–∞—è –¥–µ–≤–æ—á–∫–∞, –æ—á–µ–Ω—å —Ä–∞–¥–∞ —Å —Ç–æ–±–æ–π –¥—Ä—É–∂–∏—Ç—å!",
    box7_image: "https://i.ibb.co/mFyrJbhf/IMG-6500.jpg",
    box8_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –≠–ª–µ–π–Ω",
    box8_content: "–ú–∞–ª–µ–Ω—å–∫–æ–µ —Å–≤–µ—Ç–ª–æ–µ —Å–æ–∫—Ä–æ–≤–∏—â–µ, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è —Å —Ç–≤–æ–∏–º –¥–Ω—ë–º! –ü—É—Å—Ç—å –±—É–¥—É—Ç –∫—Ä–∞—Å–æ—á–Ω—ã–µ –∏ –∂–∏–≤–æ–ø–∏—Å–Ω—ã–µ –¥–Ω–∏, –∞ —É–¥–∞—á–∞ –∏ —É—Å–ø–µ—Ö –ø—É—Å—Ç—å –∏–¥—É—Ç —Å —Ç–æ–±–æ–π –æ–¥–Ω–∏–º —à–∞–≥–æ–º! –°–∏—è–π, –ª—é–±–∏ –∏ –±—É–¥—å –ª—é–±–∏–º–∞, –ø—É—Å—Ç—å –∂–∏–∑–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç –∫–ª–∞—Å—Å–Ω—ã–µ —Å—é–∂–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ç–æ–º –±—É–¥–µ—à—å –¥—É—à–µ–≤–Ω–æ –≤—Å–ø–æ–º–∏–Ω–∞—Ç—å, —Å–∏–¥—è –Ω–∞ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–º –∫—Ä–µ—Å–ª–µ —É –∫–∞–º–∏–Ω–∞. –í –æ–±—â–µ–º, –≤—Å–µ–≥–æ —Å–∞–∞–∞–º–æ–≥–æ-—Å–∞–∞–∞–º–æ–≥–æ –≤–æ–ª—à–µ–±–Ω–æ–≥–æ, —Å–∞–∞–∞–∞–º–æ–≥–æ-—Å–∞–∞–∞–º–æ–≥–æ –∏—Å–∫—Ä–µ–Ω–Ω–µ–≥–æ! –ò, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–±—ã–≤–∞–π, —á—Ç–æ —Ç—ã –≤–æ–ª—à–µ–±–Ω–∏—Ü–∞ ‚ú®\n\n–û—Ä–¥–µ–Ω–∫–∞, –ª—é–±–∏–º–∫–∞, —Ä–æ–¥–Ω—É–ª—å–∫–∞ ü•∞\n\n\n–í —á–µ—Å—Ç—å —Ç–≤–æ–µ–≥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è —è –¥–∞—Ä—é —Ç–µ–±–µ telegram-premium! ü§©",
    box8_image: "https://i.ibb.co/cXMmRPxS/IMG-6501.jpg",
    box9_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –í–µ–Ω–¥–∏",
    box9_content: "–ì—Ä—è–∑–Ω–æ—Ç—ã–∫–≤–µ–Ω–Ω–∞—è —Å–µ—Å—Ç—Ä–∞, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! \n–ù–µ –µ—à—å –º–Ω–æ–≥–æ –≥—Ä–∏–±–æ–≤ –∏ –≤ –∂–∏–∑–Ω–∏ –≤—Å—ë –±—É–¥–µ—Ç —á—É–¥–µ—Å–Ω–æ ‚ô°",
    box9_image: "https://i.ibb.co/TMSLH9vY/IMG-6502.png",
    box10_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –ò–∑–∞–±–µ–ª–ª—ã",
    box10_content: "–î–æ—Ä–æ–≥–∞—è –º–æ—è,\n—Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è. \n\n–ó–Ω–∞–µ—à—å, —è —á–∞—Å—Ç–æ –¥—É–º–∞—é –æ —Ç–æ–º, –∫–∞–∫ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç—Ä–æ–µ–Ω–∞ —Å—É–¥—å–±–∞. –í –æ–≥—Ä–æ–º–Ω–æ–º-–æ–≥—Ä–æ–º–Ω–æ–º –º–∏—Ä–µ –æ–Ω–∞ –≤–¥—Ä—É–≥ –±–µ—Ä—ë—Ç –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç —Ç–µ–±—è –∫ —á–µ–ª–æ–≤–µ–∫—É, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–µ–º-—Ç–æ —Ä–æ–¥–Ω—ã–º. –¢—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è —Ç–µ–º —á–µ–ª–æ–≤–µ–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å, –ø–æ–Ω—è—Ç—å, —Å–æ–≥—Ä–µ—Ç—å –∏ –ø—Ä–æ—Å—Ç–æ –±—ã—Ç—å —Ä—è–¥–æ–º, –∫–æ–≥–¥–∞ —ç—Ç–æ –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –Ω—É–∂–Ω–æ.\n\n–¢—ã ‚Äî —Ä–µ–¥–∫–æ—Å—Ç—å. –¢–∞ —Å–∞–º–∞—è –∏—Å–∫—Ä–∞, –∫–æ—Ç–æ—Ä—É—é –∂–∏–∑–Ω—å –¥–∞—ë—Ç –Ω–µ –∫–∞–∂–¥–æ–º—É.\n–ò –º–Ω–µ —Ç–∞–∫ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –ø–æ–≤–µ–∑–ª–æ, —á—Ç–æ –æ–Ω–∞ –¥–∞–ª–∞ –µ—ë –∏–º–µ–Ω–Ω–æ –º–Ω–µ))\n\n–ñ–µ–ª–∞—é —Ç–µ–±–µ —Å—á–∞—Å—Ç—å—è, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –º–µ–Ω—è–µ—Ç—Å—è –ø–æ–≥–æ–¥–∞ –∏–ª–∏ –ø–ª–∞–Ω—ã. –¢–µ–ø–ª–∞ –∏ –ª—é–¥–µ–π —Ä—è–¥–æ–º ‚Äî —Ç–µ—Ö, –∫—Ç–æ –±—É–¥–µ—Ç –≤–∏–¥–µ—Ç—å –≤ —Ç–µ–±–µ —Ç–æ –∂–µ, —á—Ç–æ –≤–∏–∂—É —è: –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—É—é, —Å–≤–µ—Ç–ª—É—é, —Å–∏–ª—å–Ω—É—é –¥—É—à—É.\n\n–°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ –∑–∞ –≤—Å—ë. –ó–∞ —Å–º–µ—Ö, –∑–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –∏, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, –∑–∞ –æ—Ç—á–∞—è–Ω–Ω—ã—Ö –¥–æ–º–æ—Ö–æ–∑—è–µ–∫))\n–ò –ø—Ä–æ—Å—Ç–æ –∑–∞ —Ç–æ, —á—Ç–æ —Ç—ã –∏ –µ—Å—Ç—å :)",
    box10_image: "https://i.ibb.co/4nJX2VDh/IMG-6503.png",
    box11_title: "–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç –ö—ç–º–µ—Ä–∏–Ω",
    box11_content: "–î–æ—Ä–æ–≥–∞—è –ê–¥–∏, –ø–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç–µ–±—è —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, –∂–µ–ª–∞—é –º–Ω–æ–≥–æ-–º–Ω–æ–≥–æ —à–æ–∫–æ–ª–∞–¥–∞ –∏ –º–æ—Ä–µ –¥–∂–µ–º–æ–≤. –ß—Ç–æ–±—ã –≤—Å–µ –≤ –∂–∏–∑–Ω–∏ –±—ã–ª–æ —Ç–∞–∫–∂–µ —Å–ª–∞–¥–∫–æ, –∫–∞–∫ –∏ —É –º–µ–Ω—è –≤ —Å—É–º–∫–µ!",
    box11_image: "https://i.ibb.co/wNSb3yT1/IMG-6504.jpg",
    box12_title: "–ö–æ—Ä–æ–±–∫–∞ 12",
    box12_content: "–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞! –≠—Ç–∞ –∫–æ—Ä–æ–±–∫–∞ –ø–æ–ª–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–π.",
    box12_image: "",
    box13_title: "–ö–æ—Ä–æ–±–∫–∞ 13",
    box13_content: "–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –í —ç—Ç–æ–π –∫–æ—Ä–æ–±–∫–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.",
    box13_image: "",
    box14_title: "–ö–æ—Ä–æ–±–∫–∞ 14",
    box14_content: "–¢–æ—á–Ω–æ –≤ —Ü–µ–ª—å! –≠—Ç–∞ –∫–æ—Ä–æ–±–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ.",
    box14_image: "",
    box15_title: "–ö–æ—Ä–æ–±–∫–∞ 15",
    box15_content: "–¢–≤–æ—Ä—á–µ—Å–∫–∏–π —à–µ–¥–µ–≤—Ä! –í —ç—Ç–æ–π –∫–æ—Ä–æ–±–∫–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ –∏ –∫—Ä–∞—Å–æ—Ç–∞.",
    box15_image: "",
    background_color: "#667eea",
    secondary_surface_color: "#ffffff",
    text_color: "#333333",
    primary_action_color: "#764ba2",
    font_family: "Segoe UI",
    font_size: 16
};

const boxImages = [
    "https://i.ibb.co/WNWFVdKV/B66-E099-B-38-F4-4333-A5-BE-EB404-F88-E1-BF.png",
    "https://i.ibb.co/HTm3nZ9S/DA0-EEAFD-5-A9-B-4-E86-886-E-6-E6320-A2-E224.png",
    "https://i.ibb.co/fV1jkYL1/066-D862-C-521-D-45-F5-AE8-A-81-D3-FD3-B1-A33.png",
    "https://i.ibb.co/XZcBfDQx/FC5-A94-B2-7-C58-4-A63-80-CB-C7-A9-A4-C5-C6-DC.png",
    "https://i.ibb.co/SDP5Lk8h/4-C1-CC997-76-BA-47-D1-82-B6-277-E4143-EBB2.png",
    "https://i.ibb.co/fzTFcnvN/E351-E6-DC-2783-472-C-8-DE0-32817592-C913.png",
    "https://i.ibb.co/8n54rwLs/2-E528122-62-FE-4-BEC-9094-E9001-D986868.png",
    "https://i.ibb.co/r23JkPBK/2-DF9-CAD8-7-AF9-4-E40-A104-16204-CE31-C9-D.png",
    "https://i.ibb.co/KpFgCvD6/4-C8673-F7-1-D9-F-428-E-BE92-8-F0-D7-CDA7-B18.png",
    "https://i.ibb.co/22vsgxx/6224-FD9-F-7-E7-A-4-AFD-8320-0-AE389-FA7-E0-D.png",
    "https://i.ibb.co/XRKt1YZ/91-F1-C315-F695-41-DF-8-EC3-70320-D5-D4847.png",
    "https://i.ibb.co/CTrp4tC/63657-FCA-1754-4-D32-B66-E-B05933-E2-DB80.png",
    "https://i.ibb.co/YTXGJ9bX/765637-B1-C079-436-D-AB8-E-1-BBB38-C23594.png",
    "https://i.ibb.co/VYQJvLMw/C470-A235-4-B1-F-4-A12-8-F8-F-8-D3-CB7309102.png",
    "https://i.ibb.co/MDHbKX13/B045-D95-E-C7-F3-479-F-9-EF9-B2354-ECFEAEA.png"
];

let currentConfig = { ...defaultConfig };
let imageLoadErrors = 0;
const MAX_BOXES = 15;

/**
 * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ lazy loading
 */
function loadImageWithFallback(img, src, onLoad, onError) {
    const imageLoader = new Image();
    
    imageLoader.onload = () => {
        img.src = src;
        img.classList.add('loaded');
        if (onLoad) onLoad();
    };
    
    imageLoader.onerror = () => {
        imageLoadErrors++;
        img.classList.add('error');
        if (onError) onError();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ, –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫
        if (imageLoadErrors >= 3) {
            showErrorMessage('–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.');
        }
    };
    
    imageLoader.src = src;
}

/**
 * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
 */
function showErrorMessage(message) {
    let errorDiv = document.getElementById('errorMessage');
    if (!errorDiv) {
        errorDiv = document.createElement('div');
        errorDiv.id = 'errorMessage';
        errorDiv.className = 'error-message';
        document.querySelector('.app-container').appendChild(errorDiv);
    }
    errorDiv.textContent = message;
    errorDiv.classList.add('visible');
    
    // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        errorDiv.classList.remove('visible');
    }, 5000);
}

/**
 * –°–æ–∑–¥–∞–µ—Ç –∫–æ—Ä–æ–±–∫–∏ —Å lazy loading
 */
function createBoxes() {
    const grid = document.getElementById('boxesGrid');
    if (!grid) {
        console.error('–≠–ª–µ–º–µ–Ω—Ç boxesGrid –Ω–µ –Ω–∞–π–¥–µ–Ω');
        return;
    }
    
    grid.innerHTML = '';
    
    for (let i = 1; i <= MAX_BOXES; i++) {
        const box = document.createElement('div');
        box.className = 'box';
        box.setAttribute('data-box', i);
        box.setAttribute('role', 'button');
        box.setAttribute('tabindex', '0');
        box.setAttribute('aria-label', `–û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–æ–±–∫—É ${i}`);
        
        const loadingSpinner = document.createElement('div');
        loadingSpinner.className = 'box-loading';
        loadingSpinner.setAttribute('aria-hidden', 'true');
        
        const img = document.createElement('img');
        img.alt = `–ö–æ—Ä–æ–±–∫–∞ ${i}`;
        img.className = 'box-image';
        img.loading = 'lazy';
        img.decoding = 'async';
        
        box.appendChild(loadingSpinner);
        box.appendChild(img);
        grid.appendChild(box);
        
        // Lazy loading —Å Intersection Observer
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const boxElement = entry.target;
                    const imgElement = boxElement.querySelector('.box-image');
                    const spinner = boxElement.querySelector('.box-loading');
                    
                    if (imgElement && boxImages[i - 1]) {
                        loadImageWithFallback(
                            imgElement,
                            boxImages[i - 1],
                            () => {
                                if (spinner) spinner.remove();
                            },
                            () => {
                                if (spinner) spinner.remove();
                            }
                        );
                    } else {
                        if (spinner) spinner.remove();
                        imgElement.classList.add('error');
                    }
                    
                    observer.unobserve(boxElement);
                }
            });
        }, {
            rootMargin: '50px'
        });
        
        observer.observe(box);
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        box.addEventListener('click', () => openModal(i));
        box.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                openModal(i);
            }
        });
    }
}

/**
 * –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –∫–æ—Ä–æ–±–∫–∏
 */
function openModal(boxNumber) {
    try {
        const config = window.elementSdk ? window.elementSdk.config : currentConfig;
        const overlay = document.getElementById('modalOverlay');
        const title = document.getElementById('modalTitle');
        const content = document.getElementById('modalContent');
        const image = document.getElementById('modalImage');

        if (!overlay || !title || !content || !image) {
            console.error('–ù–µ –Ω–∞–π–¥–µ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞');
            return;
        }

        const boxTitle = config[`box${boxNumber}_title`] || defaultConfig[`box${boxNumber}_title`] || `–ö–æ—Ä–æ–±–∫–∞ ${boxNumber}`;
        const boxContent = config[`box${boxNumber}_content`] || defaultConfig[`box${boxNumber}_content`] || '';

        title.textContent = boxTitle;
        content.textContent = boxContent;
        title.setAttribute('aria-label', `–ü–æ–¥–∞—Ä–æ–∫: ${boxTitle}`);
        
        const imageUrl = config[`box${boxNumber}_image`] || defaultConfig[`box${boxNumber}_image`];
        if (imageUrl && imageUrl.trim() !== '') {
            loadImageWithFallback(
                image,
                imageUrl,
                () => {
                    image.style.display = 'block';
                    image.alt = `–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞: ${boxTitle}`;
                },
                () => {
                    image.style.display = 'none';
                }
            );
        } else {
            image.style.display = 'none';
        }

        overlay.classList.add('active');
        overlay.setAttribute('aria-hidden', 'false');
        overlay.setAttribute('aria-modal', 'true');
        
        // –§–æ–∫—É—Å –Ω–∞ –∫–Ω–æ–ø–∫–µ –∑–∞–∫—Ä—ã—Ç–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
        const closeButton = document.getElementById('modalClose');
        if (closeButton) {
            closeButton.focus();
        }
        
        // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª body –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–º –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        document.body.style.overflow = 'hidden';
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞:', error);
        showErrorMessage('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–æ–±–∫—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
    }
}

/**
 * –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
 */
function closeModal() {
    try {
        const overlay = document.getElementById('modalOverlay');
        if (overlay) {
            overlay.classList.remove('active');
            overlay.setAttribute('aria-hidden', 'true');
            overlay.setAttribute('aria-modal', 'false');
            document.body.style.overflow = '';
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞:', error);
    }
}

/**
 * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
 */
async function onConfigChange(config) {
    try {
        currentConfig = { ...config };
        
        const customFont = config.font_family || defaultConfig.font_family;
        const baseFontStack = 'Tahoma, Geneva, Verdana, sans-serif';
        const baseSize = config.font_size || defaultConfig.font_size;
        const backgroundColor = config.background_color || defaultConfig.background_color;
        const surfaceColor = config.secondary_surface_color || defaultConfig.secondary_surface_color;
        const textColor = config.text_color || defaultConfig.text_color;
        const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;

        document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;
        document.body.style.background = backgroundColor;

        const pageTitle = document.getElementById('pageTitle');
        if (pageTitle) {
            pageTitle.textContent = config.page_title || defaultConfig.page_title;
            pageTitle.style.fontSize = `${baseSize * 2}px`;
            pageTitle.style.fontFamily = `${customFont}, ${baseFontStack}`;
        }

        const subtitleText = document.getElementById('subtitleText');
        if (subtitleText) {
            subtitleText.textContent = config.page_subtitle || defaultConfig.page_subtitle;
            subtitleText.style.fontSize = `${baseSize}px`;
            subtitleText.style.fontFamily = `${customFont}, ${baseFontStack}`;
        }
        
        const subtitleSignature = document.getElementById('subtitleSignature');
        if (subtitleSignature) {
            subtitleSignature.textContent = config.page_subtitle_signature || defaultConfig.page_subtitle_signature;
            subtitleSignature.style.fontSize = `${baseSize}px`;
            subtitleSignature.style.fontFamily = `${customFont}, ${baseFontStack}`;
        }

        const modal = document.querySelector('.modal');
        if (modal) {
            modal.style.backgroundColor = surfaceColor;
        }

        const modalTitle = document.getElementById('modalTitle');
        if (modalTitle) {
            modalTitle.style.fontSize = `${baseSize * 1.5}px`;
            modalTitle.style.color = textColor;
            modalTitle.style.fontFamily = `${customFont}, ${baseFontStack}`;
        }

        const modalContent = document.getElementById('modalContent');
        if (modalContent) {
            modalContent.style.fontSize = `${baseSize * 0.9375}px`;
            modalContent.style.fontFamily = `${customFont}, ${baseFontStack}`;
            modalContent.style.borderLeftColor = primaryColor;
        }

        const closeButton = document.getElementById('modalClose');
        if (closeButton) {
            closeButton.style.fontSize = `${baseSize * 1.75}px`;
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:', error);
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ DOM
document.addEventListener('DOMContentLoaded', () => {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SDK
    if (window.elementSdk) {
        window.elementSdk.init({
            defaultConfig,
            onConfigChange,
            mapToCapabilities: (config) => ({
                recolorables: [
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            config.background_color = value;
                            window.elementSdk.setConfig({ background_color: value });
                        }
                    },
                    {
                        get: () => config.secondary_surface_color || defaultConfig.secondary_surface_color,
                        set: (value) => {
                            config.secondary_surface_color = value;
                            window.elementSdk.setConfig({ secondary_surface_color: value });
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            config.text_color = value;
                            window.elementSdk.setConfig({ text_color: value });
                        }
                    },
                    {
                        get: () => config.primary_action_color || defaultConfig.primary_action_color,
                        set: (value) => {
                            config.primary_action_color = value;
                            window.elementSdk.setConfig({ primary_action_color: value });
                        }
                    }
                ],
                borderables: [],
                fontEditable: {
                    get: () => config.font_family || defaultConfig.font_family,
                    set: (value) => {
                        config.font_family = value;
                        window.elementSdk.setConfig({ font_family: value });
                    }
                },
                fontSizeable: {
                    get: () => config.font_size || defaultConfig.font_size,
                    set: (value) => {
                        config.font_size = value;
                        window.elementSdk.setConfig({ font_size: value });
                    }
                }
            }),
            mapToEditPanelValues: (config) => new Map([
                ["page_title", config.page_title || defaultConfig.page_title],
                ["page_subtitle", config.page_subtitle || defaultConfig.page_subtitle],
                ["box1_title", config.box1_title || defaultConfig.box1_title],
                ["box1_content", config.box1_content || defaultConfig.box1_content],
                ["box2_title", config.box2_title || defaultConfig.box2_title],
                ["box2_content", config.box2_content || defaultConfig.box2_content],
                ["box3_title", config.box3_title || defaultConfig.box3_title],
                ["box3_content", config.box3_content || defaultConfig.box3_content]
            ])
        });
    }
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ–±–æ–∫
    createBoxes();
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    const modalClose = document.getElementById('modalClose');
    if (modalClose) {
        modalClose.addEventListener('click', closeModal);
        modalClose.setAttribute('aria-label', '–ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ');
    }

    const modalOverlay = document.getElementById('modalOverlay');
    if (modalOverlay) {
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
                closeModal();
            }
        });
        
        modalOverlay.setAttribute('aria-hidden', 'true');
        modalOverlay.setAttribute('aria-modal', 'false');
    }
});

// –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
window.openModal = openModal;
window.closeModal = closeModal;

